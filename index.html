<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="gdsc-icon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>Badge Generator</title>
</head>
<body>
    <!-- Nav Bar -->
    <nav class="navbar navbar-expand-lg navbar-light transparent">
        <div class="container-fluid container">
            <a class="navbar-brand" href="#">
                <button class="navbar-toggler collapsed" type="button" id="navbar-custom-button" onclick="onNavButtonClick()" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <img id="gdsc-logo-top" src="assets/gdsc.png" alt="Google Developer Student Club">
            </a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarLightDropdownMenuLink" role="button" onclick="onDropDownActivate()" aria-expanded="false">
                      About GDG
                    </a>
                    <ul class="dropdown-menu dropdown-menu-list" aria-labelledby="navbarLightDropdownMenuLink" id="ulLightDropDown">
                      <li><a class="dropdown-item" href="https://developers.google.com/community/gdg">About</a></li>
                      <li><a class="dropdown-item" href="https://gdg.community.dev/chapters/">Chapters</a></li>
                      <li><a class="dropdown-item" href="https://gdg.community.dev/events/#/list">Upcoming Events</a></li>
                      <li><a class="dropdown-item" href="https://policies.google.com/terms">Terms</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="https://gdg.community.dev/gdg-on-campus-panimalar-institute-of-technology-chennai-india/">GDG PIT</a>
                </li>
            </ul>
          </div>
        </div>
      </nav>

    <div id="wrapper" class="container">
        <div class="row justify-content-center align-items-center" id="card-wrapper">
            <div id="card" style="background-color: white; border-radius: 20px;">
                <img id="photo" src="" style="border-radius: 20px 20px 0 0;">

                <div id="gdsc-branding">
                    <img id="gdsc-logo" src="assets/gdsc.png">
                    <hr>
                    <p id="name">Name</p>
                    <p id="position">Position</p> <!-- Position will appear here -->
                </div>
            </div>
        </div>
        <br><br>
        
        <!-- Form to enter name, select position, and upload photo -->
        <form>
            <div class="form-group">
                <label for="inputname">Name</label>
                <input id="inputname" class="form-control" type="text" placeholder="Enter Name" required oninput="loadName(event)">
                <small id="namehelp" class="form-text text-muted">Please provide your full name as it will appear on your badge.</small>
                <br><br>
            </div>

            <div class="form-group">
                <label for="inputposition">Position</label>
                <select id="inputposition" class="form-control" required onchange="loadPosition(event)">
                    <option value="Organizer">Choose</option>
                    <option value="Member">Member</option>
                    <option value="Organizer">Organizer</option>
                    <option value="Co-Organizer">Tech Lead</option>
                    <option value="Tech Lead">Design Lead</option>
                    <option value="Design Lead">Member</option>
                    <option value="Event Management Lead">Event Manager</option>
                    <option value="Content Lead">Content Lead</option>
                    <option value="Head of External Affairs">Head of External Affairs</option>
                    <option value="Android Lead">Android Lead</option>
                    <option value="ML Lead">Machine Learning Lead</option>
                    <option value="Cyber Security Lead">Cyber Security Lead</option>
                    <option value="AI Lead">Cyber Security Lead</option>


<!-- Co-leads -->
<option value="Co-Tech Lead">Co-Design Lead</option>
<option value="Co-Event Management Lead">Co-Event Manager</option>
<option value="Co-Design Lead">Co-Design Lead</option>



                    <!-- Add more options as needed -->
                </select>
                <small id="positionhelp" class="form-text text-muted">Please select your position from the list.</small>
                <br><br>
            </div>

            <div class="form-group">
                <label for="inputphoto">Photo</label>
                <input id="inputphoto" class="form-control" type="file" placeholder="Upload your photo" required onchange=loadFile(event)>
                <small id="photohelp" class="form-text text-muted">Please provide a photograph of yourself in JPEG or PNG formats.</small>
                <br><br>
            </div>
        </form>

        <div class="text-center mb-3">
            <button class="btn btn-block btn-primary" type="submit" onclick="downloadImg()">Download Your Badge</button>
        </div>
    </div>

    <div class="w-100 p-3"></div>

    <!-- Footer -->
    <hr>
    <footer class="page-footer pt-4">
        <div class="container-fluid text-center text-md-left">
            <div class="row">
                <div class="col-md-5 mt-md-0 mt-3">
                    <img id="gdsc-logo-footer" src="assets/gdsc.png" alt="Google Developer Groups PIT">
                </div>
                <div class="col-md-3 mb-md-0 mb-3">
                    <h5 class="text-uppercase">QUICK LINKS</h5>
                    <ul class="list-unstyled justify-content-center">
                        <li class="nav-item">
                            <a class="nav-link" target="_blank" style="color: gray;" href="https://gdg.community.dev/gdg-on-campus-panimalar-institute-of-technology-chennai-india/">Invite Page</a>
                        </li>
                        <li>
                            <a class="nav-link" target="_blank" style="color: gray;" href="https://gdg.community.dev/gdg-on-campus-panimalar-institute-of-technology-chennai-india/">GDG Community</a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-3 mb-md-0 mb-3">
                    <h5 class="text-uppercase">CONNECT WITH US</h5>
                    <ul class="list-unstyled">
                        <li class="nav-item">
                            <a target="_blank" href="https://instagram.com/GDG_ON_CAMPUS_PIT/" style="color: rgb(62, 60, 60); text-decoration: none;">
                                <i class="fa-brands fa-instagram"></i> 
                            </a>
                        </li>
                        <div class="w-100 p-3"></div>
                        <li>
                            <h5 class="text-uppercase">WRITE US</h5>
                            <a class="nav-link" target="_blank" style="color: gray;" href="mailto:gdg.on.pit@gmail.com">gdg.on.pit@gmail.com</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script>
        var loadFile = (event) => {
            let image = document.getElementById('photo');
            image.src = URL.createObjectURL(event.target.files[0]);
        };

        var loadName = (event) => {
            let name = document.getElementById("name");
            name.innerHTML = event.target.value;
        };

        var loadPosition = (event) => {
            let position = document.getElementById("position");
            position.innerHTML = event.target.value;
        };

        const downloadImg = () => {
            var card = document.getElementById("card");
            var nameVal = document.getElementById("name").innerHTML;
            var positionVal = document.getElementById("position").innerHTML;

            html2canvas(card, {
                scale: 1.1,
                backgroundColor: "rgba(1,1,1,0)"
            }).then(function(canvas) {
                var imgLink = document.createElement("a");
                document.body.appendChild(imgLink);
                imgLink.download = `${nameVal}-${positionVal}.png`;
                imgLink.href = canvas.toDataURL("image/png");
                imgLink.target = '_blank';
                imgLink.click();
            });
        };

        function onNavButtonClick() {
            let navBar = document.getElementById("navbarSupportedContent");
            let button = document.getElementById('navbar-custom-button');
            let arial = button.getAttribute("aria-expanded");
            navBar.classList.replace('collapse', 'collapsing');
            if (navBar.classList.contains('show')) {
                button.classList.add('collapsed');
                arial = false;
                navBar.classList.remove('show');
            } else {
                button.classList.remove('collapsed');
                arial = true;
                navBar.classList.add('show');
            }
            button.setAttribute("aria-expanded", arial);
            setTimeout(() => {
                navBar.classList.replace('collapsing', 'collapse');
            }, 95);
        }

        function onDropDownActivate() {
            let dropdown = document.getElementById("navbarLightDropdownMenuLink");
            let ul = document.getElementById('ulLightDropDown');
            if (dropdown.classList.contains('show')) {
                ul.classList.remove('show');
                dropdown.classList.remove('show');
            } else {
                ul.classList.add('show');
                dropdown.classList.add('show');
            }
        }
    </script>
</body>
</html>
